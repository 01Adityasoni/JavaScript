<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>REACT</title>
</head>
<body style="background-color: darkgreen;">

    <button>Button clicked</button>
    <p>When you use a class method as an event handler, JavaScript loses this.

So we use .bind(this) to fix this.</p>
</body>
<script>

    //You are creating a class named React (this is just a name, not real React).
    class React {
        constructor(){
            //The constructor runs automatically when you create a new object using new React().
            //Here you are creating properties on the object.
            //So this means:
            //Every object will have:
            //library = "React"
            //  server = "https://localhost:300"
            this.library = "React",
            this. server = "https://localhost:300"


            //requirement 

            document.querySelector("button").addEventListener("click", this.handleClick.bind(this))

          //  1ï¸âƒ£ document.querySelector("button")

             //Selects the button from HTML.

            //2ï¸âƒ£ addEventListener("click", ...)

            //Runs a function when the button is clicked.

        //  3ï¸âƒ£ this.handleClick

        //This is a method of the class.

        //        âš ï¸ Problem
        //When JavaScript calls handleClick from an event,
            //ğŸ‘‰ this becomes the button, NOT the class object.
            /*
            Why bind(this) is needed
this.handleClick.bind(this)


bind(this) means:

âœ… â€œAlways keep this pointing to the React object,
âŒ not the buttonâ€

So:

this.library works

this.server works

What if you REMOVE .bind(this) âŒ
addEventListener("click", this.handleClick)

       
Then:

this = button

this.library â†’ undefined

this.server â†’ undefined

This is why bind() is required.

Simple rule to remember ğŸ§ 

ğŸ‘‰ When passing a class method as a callback, this is lost
ğŸ‘‰ Use .bind(this) to fix it
*/
        }
        handleClick(){
            console.log("Button clicked", this.liberary)
            console.log("Server URL:", this.server)
        }
    }

    const app = new React()





</script>
</html>